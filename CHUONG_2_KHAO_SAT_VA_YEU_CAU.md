# CHƯƠNG 2: KHẢO SÁT HIỆN TRẠNG VÀ YÊU CẦU CHỨC NĂNG

## 2.1. Khảo sát hiện trạng

### 2.1.1. CGV Cinemas

CGV Cinemas là một trong những chuỗi rạp chiếu phim lớn nhất tại Việt Nam, được thành lập vào năm 2011 và hiện đang vận hành hơn 50 rạp chiếu trên toàn quốc. Hệ thống đặt vé trực tuyến của CGV được đánh giá là một trong những hệ thống hiện đại và tiện lợi nhất tại thị trường Việt Nam.

**Đặc điểm nổi bật của hệ thống CGV:**

Về giao diện người dùng, CGV sở hữu một website và ứng dụng mobile với giao diện hiện đại, thân thiện với người dùng. Hệ thống hỗ trợ đầy đủ các tính năng tìm kiếm phim, lọc theo rạp, ngày chiếu, và định dạng phim. Giao diện chọn ghế được thiết kế trực quan với sơ đồ ghế 2D, cho phép người dùng dễ dàng xem và chọn ghế mong muốn. Hệ thống cũng cung cấp thông tin chi tiết về từng loại ghế, bao gồm giá vé và các tiện ích đi kèm.

Về chức năng đặt vé, CGV cung cấp quy trình đặt vé hoàn chỉnh từ việc chọn phim, suất chiếu, ghế ngồi đến thanh toán. Hệ thống hỗ trợ nhiều phương thức thanh toán đa dạng bao gồm thẻ tín dụng, thẻ ghi nợ, ví điện tử, và thanh toán tại quầy. Đặc biệt, CGV tích hợp với các ví điện tử phổ biến tại Việt Nam như MoMo và ZaloPay, mang lại sự thuận tiện cho người dùng. Hệ thống cũng hỗ trợ đặt combo đồ ăn kèm theo vé, với khả năng tùy chỉnh các món ăn và đồ uống.

Về quản lý và phân quyền, CGV có hệ thống quản trị phức tạp cho phép quản lý nhiều cụm rạp và phòng chiếu. Hệ thống hỗ trợ phân quyền theo vai trò, với các cấp độ quản trị khác nhau từ quản trị viên hệ thống đến quản lý rạp. Hệ thống cung cấp các báo cáo chi tiết về doanh thu, số lượng vé bán ra, và các chỉ số kinh doanh khác.

**Những điểm mạnh cần học hỏi:**

Hệ thống của CGV có khả năng xử lý lượng truy cập lớn một cách ổn định, đặc biệt là trong các dịp ra mắt phim lớn. Giao diện người dùng được tối ưu hóa cho cả desktop và mobile, đảm bảo trải nghiệm nhất quán trên mọi thiết bị. Hệ thống tích hợp tốt với các dịch vụ bên thứ ba như thanh toán và marketing, tạo ra một hệ sinh thái hoàn chỉnh.

### 2.1.2. Galaxy Cinema

Galaxy Cinema là một trong những thương hiệu rạp chiếu phim hàng đầu tại Việt Nam, được thành lập vào năm 2003 và hiện đang vận hành hơn 30 rạp chiếu trên toàn quốc. Hệ thống đặt vé trực tuyến của Galaxy được phát triển với trọng tâm vào trải nghiệm người dùng và tính tiện lợi.

**Đặc điểm nổi bật của hệ thống Galaxy:**

Về giao diện và trải nghiệm người dùng, Galaxy tập trung vào việc tạo ra một giao diện đơn giản, dễ sử dụng. Hệ thống có khả năng tìm kiếm và lọc phim mạnh mẽ, cho phép người dùng nhanh chóng tìm được phim và suất chiếu phù hợp. Giao diện chọn ghế được thiết kế với màu sắc rõ ràng, dễ phân biệt giữa các loại ghế và trạng thái ghế (trống, đã chọn, đã bán).

Về tính năng đặc biệt, Galaxy cung cấp hệ thống thành viên với nhiều cấp độ khác nhau, mỗi cấp độ có các ưu đãi riêng. Hệ thống tích hợp chương trình tích điểm, cho phép khách hàng tích lũy điểm khi mua vé và đổi điểm lấy các phần quà hoặc giảm giá. Galaxy cũng có hệ thống voucher và khuyến mãi linh hoạt, cho phép áp dụng nhiều loại giảm giá khác nhau.

Về quản lý, Galaxy có hệ thống quản trị cho phép quản lý từng rạp một cách độc lập, phù hợp với mô hình kinh doanh có nhiều cụm rạp. Hệ thống cung cấp các công cụ phân tích và báo cáo giúp quản lý đưa ra các quyết định kinh doanh dựa trên dữ liệu.

**Những điểm mạnh cần học hỏi:**

Hệ thống của Galaxy có khả năng tùy biến cao, cho phép mỗi rạp có thể cấu hình riêng về giá vé, khuyến mãi, và các chính sách khác. Hệ thống tích hợp tốt với các chương trình marketing và loyalty, tạo ra giá trị gia tăng cho khách hàng. Giao diện được tối ưu hóa cho tốc độ tải nhanh, đảm bảo trải nghiệm mượt mà ngay cả khi kết nối internet không ổn định.

### 2.1.3. BHD Star Cineplex

BHD Star Cineplex là một thương hiệu rạp chiếu phim cao cấp tại Việt Nam, được thành lập vào năm 2011 và hiện đang vận hành hơn 20 rạp chiếu tại các thành phố lớn. Hệ thống đặt vé trực tuyến của BHD được phát triển với trọng tâm vào chất lượng dịch vụ và trải nghiệm cao cấp.

**Đặc điểm nổi bật của hệ thống BHD:**

Về chất lượng dịch vụ, BHD tập trung vào việc cung cấp trải nghiệm cao cấp cho khách hàng. Hệ thống hỗ trợ đặt vé cho nhiều loại phòng chiếu đặc biệt như phòng IMAX, 4DX, và các phòng VIP với các tiện ích cao cấp. Giao diện được thiết kế tinh tế, phản ánh đúng định vị thương hiệu cao cấp của BHD.

Về tính năng kỹ thuật, BHD có hệ thống đặt vé với khả năng xử lý real-time tốt, đảm bảo thông tin về ghế ngồi và suất chiếu luôn được cập nhật chính xác. Hệ thống tích hợp với các dịch vụ thanh toán hiện đại và hỗ trợ đặt combo đồ ăn với nhiều lựa chọn phong phú.

Về quản lý, BHD có hệ thống quản trị tập trung nhưng vẫn cho phép mỗi rạp có một số tùy biến nhất định. Hệ thống cung cấp các báo cáo chi tiết và phân tích sâu về hành vi khách hàng, giúp quản lý đưa ra các chiến lược marketing và kinh doanh hiệu quả.

**Những điểm mạnh cần học hỏi:**

Hệ thống của BHD có khả năng xử lý các yêu cầu phức tạp như đặt vé cho các sự kiện đặc biệt, phòng chiếu VIP, và các gói dịch vụ cao cấp. Giao diện được tối ưu hóa cho trải nghiệm cao cấp, với các animation mượt mà và thiết kế tinh tế. Hệ thống tích hợp tốt với các dịch vụ bổ sung như đặt chỗ ăn uống và các tiện ích khác.

### 2.1.4. Tổng kết và đánh giá

Qua việc khảo sát các hệ thống đặt vé trực tuyến hiện có tại Việt Nam, có thể rút ra một số nhận xét chung:

**Về mặt kỹ thuật:** Tất cả các hệ thống đều sử dụng công nghệ web hiện đại, hỗ trợ đầy đủ các tính năng cơ bản như tìm kiếm phim, chọn suất chiếu, chọn ghế, và thanh toán. Các hệ thống đều tích hợp với nhiều phương thức thanh toán, đặc biệt là các ví điện tử phổ biến tại Việt Nam. Tuy nhiên, vẫn còn một số hạn chế về khả năng xử lý tải cao trong các dịp ra mắt phim lớn.

**Về mặt trải nghiệm người dùng:** Các hệ thống đều cố gắng tạo ra giao diện thân thiện và dễ sử dụng, nhưng vẫn còn khoảng cách để đạt được mức độ hoàn hảo. Một số hệ thống vẫn còn phức tạp trong quy trình đặt vé, đặc biệt là đối với người dùng mới. Việc tối ưu hóa cho mobile vẫn còn là một thách thức đối với một số hệ thống.

**Về mặt quản lý:** Các hệ thống đều có khả năng quản lý nhiều rạp và phòng chiếu, nhưng mức độ tùy biến và phân quyền khác nhau. Hệ thống báo cáo và phân tích dữ liệu là một điểm mạnh của các hệ thống lớn, giúp quản lý đưa ra các quyết định kinh doanh dựa trên dữ liệu.

**Cơ hội cải thiện:** Dựa trên việc khảo sát, có thể thấy rằng vẫn còn nhiều cơ hội để cải thiện hệ thống đặt vé trực tuyến, đặc biệt là về khả năng xử lý tải cao, tối ưu hóa trải nghiệm người dùng, và cung cấp các tính năng quản lý linh hoạt hơn. Hệ thống mới có thể học hỏi từ những điểm mạnh của các hệ thống hiện có và cải thiện những điểm yếu để tạo ra một giải pháp tốt hơn.

## 2.2. Yêu cầu chức năng

### 2.2.1. Phân quyền người dùng

Hệ thống được thiết kế với mô hình phân quyền rõ ràng, phân chia người dùng thành ba vai trò chính: **Khách hàng (Customer)**, **Quản lý rạp (Manager)**, và **Quản trị viên (Admin)**. Mỗi vai trò có các quyền và chức năng riêng, đảm bảo tính bảo mật và hiệu quả trong quản lý hệ thống.

#### 2.2.1.1. Khách hàng (Customer)

Khách hàng là người dùng cuối của hệ thống, có quyền truy cập vào các chức năng cơ bản để đặt vé và quản lý tài khoản của mình. Các quyền và chức năng của khách hàng bao gồm:

**Quản lý tài khoản:** Khách hàng có thể đăng ký tài khoản mới, đăng nhập vào hệ thống bằng tài khoản đã đăng ký hoặc thông qua Google OAuth. Khách hàng có thể xem và cập nhật thông tin cá nhân của mình, bao gồm họ tên, email, số điện thoại, và địa chỉ. Hệ thống cung cấp chức năng quên mật khẩu và đặt lại mật khẩu thông qua email OTP, đảm bảo tính bảo mật của tài khoản.

**Duyệt và tìm kiếm phim:** Khách hàng có thể xem danh sách các phim đang chiếu và sắp chiếu, xem thông tin chi tiết về từng bộ phim bao gồm trailer, diễn viên, đạo diễn, thể loại, và đánh giá. Hệ thống cung cấp các công cụ tìm kiếm và lọc phim theo nhiều tiêu chí khác nhau như tên phim, thể loại, rạp chiếu, và ngày chiếu. Khách hàng có thể xem lịch chiếu của các phim tại các rạp khác nhau và lọc theo định dạng phim (2D, 3D, IMAX, v.v.).

**Đặt vé xem phim:** Khách hàng có thể chọn phim, suất chiếu, và ghế ngồi thông qua giao diện trực quan. Hệ thống cung cấp sơ đồ ghế tương tác, cho phép khách hàng xem vị trí và loại ghế, cũng như trạng thái ghế (trống, đã chọn, đã bán). Hệ thống sử dụng WebSocket để cập nhật trạng thái ghế theo thời gian thực, đảm bảo không có xung đột khi nhiều người cùng chọn ghế. Khách hàng có thể đặt combo đồ ăn kèm theo vé, với khả năng tùy chỉnh số lượng và loại combo.

**Thanh toán:** Khách hàng có thể thanh toán đơn hàng thông qua nhiều phương thức khác nhau, bao gồm ZaloPay và MoMo. Hệ thống tích hợp với các cổng thanh toán này để xử lý các giao dịch một cách an toàn và nhanh chóng. Sau khi thanh toán thành công, khách hàng nhận được thông báo xác nhận và mã QR code để sử dụng khi đến rạp.

**Quản lý đơn hàng:** Khách hàng có thể xem lịch sử đặt vé của mình, bao gồm các đơn hàng đã hoàn thành và đang chờ thanh toán. Khách hàng có thể xem chi tiết từng đơn hàng, bao gồm thông tin về phim, suất chiếu, ghế ngồi, và combo đồ ăn. Hệ thống cung cấp mã QR code cho mỗi vé, cho phép khách hàng sử dụng khi đến rạp.

**Đánh giá và phản hồi:** Khách hàng có thể đánh giá và viết nhận xét về các bộ phim đã xem, giúp các khách hàng khác có thêm thông tin để quyết định. Khách hàng có thể yêu thích các bộ phim và xem lại danh sách phim yêu thích của mình.

#### 2.2.1.2. Quản lý rạp (Manager)

Quản lý rạp là người chịu trách nhiệm quản lý một cụm rạp cụ thể, có quyền truy cập vào các chức năng quản lý liên quan đến rạp của mình. Các quyền và chức năng của quản lý rạp bao gồm:

**Quản lý phim:** Quản lý rạp có thể xem danh sách các phim đang được chiếu tại rạp của mình và các phim sắp được chiếu. Quản lý có thể yêu cầu thêm phim mới vào rạp của mình, mặc dù việc phê duyệt cuối cùng thuộc về quản trị viên. Quản lý có thể xem thông tin chi tiết về từng phim, bao gồm lịch chiếu và số lượng vé đã bán.

**Quản lý suất chiếu:** Quản lý rạp có toàn quyền quản lý các suất chiếu tại rạp của mình, bao gồm tạo mới, chỉnh sửa, và xóa suất chiếu. Hệ thống cung cấp giao diện quản lý suất chiếu trực quan, cho phép quản lý dễ dàng xem và quản lý lịch chiếu. Hệ thống tự động kiểm tra xung đột thời gian và cảnh báo quản lý nếu có vấn đề. Quản lý có thể xem thống kê về số lượng vé đã bán cho từng suất chiếu.

**Quản lý phòng chiếu:** Quản lý rạp có thể xem thông tin về các phòng chiếu trong rạp của mình, bao gồm số lượng ghế, loại ghế, và các tiện ích. Quản lý có thể cập nhật thông tin về phòng chiếu, mặc dù việc tạo mới phòng chiếu thường thuộc về quản trị viên.

**Quản lý đơn hàng:** Quản lý rạp có thể xem tất cả các đơn hàng liên quan đến rạp của mình, bao gồm đơn vé và đơn đồ ăn. Quản lý có thể xem chi tiết từng đơn hàng, bao gồm thông tin khách hàng, phim, suất chiếu, ghế ngồi, và combo đồ ăn. Quản lý có thể tìm kiếm và lọc đơn hàng theo nhiều tiêu chí khác nhau như ngày, phim, và trạng thái thanh toán.

**Báo cáo và thống kê:** Quản lý rạp có thể xem các báo cáo về doanh thu, số lượng vé bán ra, và các chỉ số kinh doanh khác của rạp mình. Hệ thống cung cấp các biểu đồ và đồ thị trực quan để giúp quản lý dễ dàng phân tích dữ liệu. Quản lý có thể xuất các báo cáo ra file Excel để phân tích chi tiết hơn. Các báo cáo bao gồm doanh thu theo ngày, tuần, tháng, doanh thu theo phim, và doanh thu từ đồ ăn.

**Quản lý giá vé:** Quản lý rạp có thể xem và đề xuất thay đổi giá vé cho các loại ghế và định dạng phim tại rạp của mình, mặc dù việc phê duyệt cuối cùng có thể thuộc về quản trị viên tùy theo cấu hình hệ thống.

#### 2.2.1.3. Quản trị viên (Admin)

Quản trị viên là người có quyền cao nhất trong hệ thống, có quyền truy cập vào tất cả các chức năng và quản lý toàn bộ hệ thống. Các quyền và chức năng của quản trị viên bao gồm:

**Quản lý người dùng:** Quản trị viên có thể xem danh sách tất cả người dùng trong hệ thống, bao gồm khách hàng, quản lý rạp, và các quản trị viên khác. Quản trị viên có thể tạo mới tài khoản quản lý rạp và quản trị viên, chỉ định rạp cho quản lý, và quản lý trạng thái tài khoản (kích hoạt, vô hiệu hóa). Quản trị viên có thể xem và cập nhật thông tin của bất kỳ người dùng nào trong hệ thống.

**Quản lý phim:** Quản trị viên có toàn quyền quản lý phim trong hệ thống, bao gồm thêm mới, chỉnh sửa, và xóa phim. Quản trị viên có thể upload poster và trailer cho phim, cập nhật thông tin về phim như tiêu đề, mô tả, diễn viên, đạo diễn, thể loại, và độ tuổi cho phép. Quản trị viên có thể quản lý trạng thái phim (đang chiếu, sắp chiếu, đã kết thúc) và xem thống kê về số lượng vé đã bán cho từng phim.

**Quản lý rạp và phòng chiếu:** Quản trị viên có thể tạo mới, chỉnh sửa, và xóa các cụm rạp và phòng chiếu trong hệ thống. Quản trị viên có thể quản lý thông tin về rạp như tên, địa chỉ, số điện thoại, và các tiện ích. Quản trị viên có thể tạo mới phòng chiếu, cấu hình số lượng và loại ghế, và quản lý các tiện ích của phòng chiếu.

**Quản lý suất chiếu:** Quản trị viên có thể xem tất cả các suất chiếu trong hệ thống, không giới hạn bởi rạp, để theo dõi và giám sát hoạt động chiếu phim. Quản trị viên có thể xem thống kê về số lượng vé đã bán cho từng suất chiếu và toàn bộ hệ thống. Tuy nhiên, quản trị viên chỉ có quyền xem, không có quyền tạo mới, chỉnh sửa, hoặc xóa suất chiếu. Việc quản lý suất chiếu được giao cho quản lý rạp để đảm bảo tính linh hoạt và trách nhiệm rõ ràng.

**Quản lý giá vé:** Quản trị viên có toàn quyền quản lý giá vé trong hệ thống, bao gồm thiết lập giá vé cho các loại ghế và định dạng phim khác nhau. Quản trị viên có thể tạo các bảng giá khác nhau cho các rạp khác nhau và quản lý các chính sách giá đặc biệt.

**Quản lý voucher và khuyến mãi:** Quản trị viên có thể tạo mới, chỉnh sửa, và xóa các voucher và chương trình khuyến mãi. Quản trị viên có thể thiết lập các điều kiện sử dụng voucher, thời gian hiệu lực, và số lượng voucher. Quản trị viên có thể gán voucher cho các khách hàng cụ thể hoặc công khai cho tất cả khách hàng.

**Quản lý đồ ăn:** Quản trị viên có thể quản lý menu đồ ăn và đồ uống trong hệ thống, bao gồm thêm mới, chỉnh sửa, và xóa các combo đồ ăn. Quản trị viên có thể upload hình ảnh cho các combo, thiết lập giá, và quản lý tình trạng còn hàng.

**Quản lý đơn hàng:** Quản trị viên có thể xem tất cả các đơn hàng trong hệ thống, không giới hạn bởi rạp. Quản trị viên có thể tìm kiếm và lọc đơn hàng theo nhiều tiêu chí khác nhau, xem chi tiết từng đơn hàng, và thực hiện các thao tác quản lý như hủy đơn hàng hoặc hoàn tiền.

**Báo cáo và thống kê:** Quản trị viên có thể xem các báo cáo tổng hợp về toàn bộ hệ thống, bao gồm doanh thu tổng thể, số lượng vé bán ra, và các chỉ số kinh doanh khác. Hệ thống cung cấp các biểu đồ và đồ thị trực quan để giúp quản trị viên dễ dàng phân tích dữ liệu. Quản trị viên có thể xuất các báo cáo ra file Excel và xem báo cáo theo nhiều khoảng thời gian khác nhau (ngày, tuần, tháng, năm).

**Quản lý banner và quảng cáo:** Quản trị viên có thể quản lý các banner quảng cáo hiển thị trên trang web, bao gồm thêm mới, chỉnh sửa, và xóa banner. Quản trị viên có thể thiết lập thời gian hiển thị và vị trí hiển thị của banner.

**Quản lý đánh giá:** Quản trị viên có thể xem và quản lý tất cả các đánh giá và nhận xét của khách hàng về phim. Khi phát hiện các đánh giá không phù hợp hoặc vi phạm quy định, quản trị viên có thể ẩn đánh giá đó để không hiển thị công khai trên hệ thống, nhưng không xóa hoàn toàn để đảm bảo tính minh bạch và có thể khôi phục lại nếu cần.

**Quản lý hoạt động hệ thống:** Quản trị viên có thể xem nhật ký hoạt động của hệ thống, bao gồm các thao tác của người dùng và các sự kiện quan trọng. Điều này giúp quản trị viên theo dõi và kiểm soát hoạt động của hệ thống, cũng như phát hiện và xử lý các vấn đề bảo mật.

### 2.2.2. Các chức năng chính

Hệ thống cung cấp một bộ chức năng đầy đủ và toàn diện để đáp ứng nhu cầu của cả khách hàng và quản lý, được tổ chức thành các module chính với các tính năng chi tiết như sau:

#### 2.2.2.1. Module Xác thực và Quản lý Người dùng

Module Xác thực và Quản lý Người dùng là nền tảng của hệ thống, đảm bảo tính bảo mật và quản lý hiệu quả các tài khoản người dùng. Module này cung cấp các chức năng đăng ký tài khoản mới với quy trình xác thực email nghiêm ngặt. Khi người dùng đăng ký, hệ thống sẽ gửi một mã OTP (One-Time Password) đến email đã đăng ký để xác minh tính hợp lệ của địa chỉ email. Chỉ sau khi xác thực email thành công, tài khoản mới được kích hoạt và người dùng có thể sử dụng các chức năng của hệ thống.

Module hỗ trợ đăng nhập đa dạng với hai phương thức chính: đăng nhập bằng tài khoản hệ thống (username/password) và đăng nhập thông qua Google OAuth 2.0. Việc tích hợp Google OAuth mang lại sự thuận tiện cho người dùng, cho phép họ đăng nhập nhanh chóng mà không cần nhớ thêm một bộ thông tin đăng nhập mới. Hệ thống sử dụng JWT (JSON Web Token) để quản lý phiên đăng nhập, đảm bảo tính bảo mật và hiệu quả. JWT token có thời gian hết hạn, yêu cầu người dùng đăng nhập lại sau một khoảng thời gian nhất định để tăng cường bảo mật.

Chức năng quên mật khẩu được thực hiện thông qua email OTP. Khi người dùng yêu cầu đặt lại mật khẩu, hệ thống sẽ gửi một mã OTP đến email đã đăng ký. Người dùng nhập mã OTP để xác thực danh tính, sau đó có thể đặt mật khẩu mới. Quy trình này đảm bảo rằng chỉ chủ sở hữu email mới có thể đặt lại mật khẩu.

Module cũng cung cấp các chức năng quản lý thông tin cá nhân, cho phép người dùng xem và cập nhật thông tin của mình như họ tên, email, số điện thoại, và địa chỉ. Hệ thống đảm bảo tính nhất quán của dữ liệu và cung cấp các validation để đảm bảo thông tin nhập vào là hợp lệ.

#### 2.2.2.2. Module Quản lý Phim

Module Quản lý Phim là trung tâm của hệ thống, quản lý toàn bộ thông tin về các bộ phim được chiếu tại rạp. Module này cung cấp giao diện quản lý phim toàn diện cho quản trị viên, cho phép thêm mới, chỉnh sửa, và xóa phim một cách dễ dàng. Khi thêm phim mới, quản trị viên có thể nhập đầy đủ thông tin về phim bao gồm tiêu đề (tiếng Việt và tiếng Anh), mô tả chi tiết, diễn viên, đạo diễn, thể loại, độ tuổi cho phép, thời lượng phim, ngày khởi chiếu, và ngày kết thúc.

Module hỗ trợ upload và quản lý poster phim, cho phép quản trị viên upload hình ảnh poster chất lượng cao để hiển thị trên website. Hệ thống tích hợp với Cloudinary để lưu trữ và tối ưu hóa hình ảnh, đảm bảo tốc độ tải nhanh và chất lượng hình ảnh tốt trên mọi thiết bị. Module cũng hỗ trợ upload trailer phim, cho phép khách hàng xem trước phim trước khi quyết định đặt vé.

Hệ thống quản lý trạng thái phim một cách linh hoạt với ba trạng thái chính: "đang chiếu" (NOW_SHOWING), "sắp chiếu" (COMING_SOON), và "đã kết thúc" (ENDED). Hệ thống tự động cập nhật trạng thái phim dựa trên ngày khởi chiếu và ngày kết thúc, đảm bảo thông tin luôn chính xác và cập nhật.

Module cung cấp các công cụ tìm kiếm và lọc phim mạnh mẽ, cho phép khách hàng tìm kiếm phim theo tên, thể loại, rạp chiếu, ngày chiếu, và định dạng phim. Hệ thống cũng cung cấp các bộ lọc nâng cao để khách hàng có thể tìm được phim phù hợp với sở thích của mình một cách nhanh chóng.

Module cung cấp thống kê chi tiết về số lượng vé đã bán cho từng phim, giúp quản lý đánh giá mức độ phổ biến của từng bộ phim và đưa ra các quyết định kinh doanh phù hợp.

#### 2.2.2.3. Module Quản lý Rạp và Phòng chiếu

Module Quản lý Rạp và Phòng chiếu quản lý toàn bộ cơ sở hạ tầng của hệ thống rạp chiếu phim. Module này cho phép quản trị viên tạo mới, chỉnh sửa, và xóa các cụm rạp trong hệ thống. Mỗi cụm rạp được quản lý với đầy đủ thông tin bao gồm tên rạp, địa chỉ chi tiết (số nhà, đường, phường/xã, quận/huyện, tỉnh/thành phố), số điện thoại liên hệ, email, và các tiện ích đi kèm như bãi đỗ xe, quầy đồ ăn, khu vực chờ, v.v.

Module quản lý phòng chiếu một cách chi tiết, cho phép quản trị viên tạo mới phòng chiếu và cấu hình đầy đủ thông tin về phòng. Mỗi phòng chiếu được định nghĩa với số lượng hàng ghế, số lượng ghế mỗi hàng, loại ghế (thường, VIP, couple), và các tiện ích của phòng như màn hình IMAX, hệ thống âm thanh Dolby Atmos, ghế massage, v.v.

Hệ thống tự động tạo sơ đồ ghế dựa trên cấu hình phòng chiếu, với mỗi ghế được đánh số và phân loại rõ ràng. Module hỗ trợ nhiều loại ghế khác nhau như ghế thường, ghế VIP, ghế couple, mỗi loại có mức giá khác nhau. Hệ thống cũng quản lý các vị trí đặc biệt như lối đi, màn hình, và các khu vực không thể đặt ghế.

Module cung cấp giao diện xem thông tin chi tiết về từng rạp và phòng chiếu, cho phép quản lý và quản trị viên dễ dàng theo dõi và quản lý cơ sở hạ tầng của hệ thống.

#### 2.2.2.4. Module Quản lý Suất chiếu

Module Quản lý Suất chiếu là một trong những module quan trọng nhất của hệ thống, quản lý lịch chiếu phim tại các rạp. Module này cung cấp giao diện quản lý lịch chiếu trực quan và mạnh mẽ cho quản lý rạp, cho phép tạo mới, chỉnh sửa, và xóa suất chiếu một cách dễ dàng.

Khi tạo suất chiếu mới, quản lý rạp cần chọn phim, phòng chiếu, ngày chiếu, giờ bắt đầu, và định dạng phim (2D, 3D, IMAX, 4DX, v.v.). Hệ thống tự động tính toán thời gian kết thúc dựa trên thời lượng phim và thời gian dọn dẹp giữa các suất chiếu. Module tích hợp với Drools Business Rules Engine để tự động kiểm tra xung đột thời gian khi tạo suất chiếu mới. Hệ thống sẽ cảnh báo quản lý nếu có xung đột với các suất chiếu khác trong cùng phòng, đảm bảo không có hai suất chiếu cùng diễn ra trong một phòng tại cùng một thời điểm.

Module cung cấp giao diện xem lịch chiếu theo nhiều định dạng khác nhau: xem theo ngày để thấy tất cả suất chiếu trong ngày, xem theo tuần để có cái nhìn tổng quan về lịch chiếu trong tuần, và xem theo tháng để lập kế hoạch dài hạn. Giao diện hiển thị lịch chiếu dưới dạng timeline, cho phép quản lý dễ dàng nhận biết các khoảng trống trong lịch chiếu và tối ưu hóa việc sử dụng phòng chiếu.

Module cung cấp thống kê chi tiết về số lượng vé đã bán cho từng suất chiếu, giúp quản lý đánh giá hiệu quả của từng suất chiếu và điều chỉnh lịch chiếu phù hợp. Hệ thống cũng cung cấp thông tin về số ghế còn trống, tỷ lệ lấp đầy, và doanh thu của từng suất chiếu.

Đối với quản trị viên, module chỉ cung cấp quyền xem lịch chiếu để theo dõi và giám sát hoạt động chiếu phim trên toàn hệ thống, nhưng không có quyền chỉnh sửa để đảm bảo tính phân quyền và trách nhiệm rõ ràng.

#### 2.2.2.5. Module Đặt vé và Chọn ghế

Module Đặt vé và Chọn ghế là module cốt lõi của hệ thống, cung cấp trải nghiệm đặt vé trực quan và thuận tiện cho khách hàng. Module này được thiết kế với giao diện người dùng thân thiện, đảm bảo quy trình đặt vé diễn ra mượt mà và nhanh chóng.

Quy trình đặt vé bắt đầu từ việc khách hàng chọn phim và suất chiếu. Hệ thống hiển thị danh sách các phim đang chiếu và sắp chiếu với đầy đủ thông tin và hình ảnh poster. Khách hàng có thể lọc phim theo nhiều tiêu chí như rạp chiếu, ngày chiếu, định dạng phim, và thể loại. Sau khi chọn phim, khách hàng được hiển thị danh sách các suất chiếu có sẵn với thông tin về thời gian, phòng chiếu, và định dạng.

Khi khách hàng chọn suất chiếu, hệ thống hiển thị sơ đồ ghế tương tác với đầy đủ thông tin về vị trí và loại ghế. Sơ đồ ghế được thiết kế trực quan với màu sắc rõ ràng để phân biệt các trạng thái ghế: ghế trống (có thể chọn), ghế đã được chọn bởi người khác (không thể chọn), ghế đã được bán (không thể chọn), và ghế VIP (có giá cao hơn). Hệ thống hiển thị giá vé cho từng loại ghế, giúp khách hàng đưa ra quyết định phù hợp.

Module sử dụng WebSocket để cập nhật trạng thái ghế theo thời gian thực, đảm bảo rằng khi một khách hàng chọn ghế, tất cả khách hàng khác đang xem cùng suất chiếu sẽ thấy ghế đó đã được chọn ngay lập tức. Điều này ngăn chặn tình trạng nhiều người cùng chọn một ghế và tạo ra xung đột. Hệ thống cũng tự động giải phóng ghế sau một khoảng thời gian nhất định (2 phút) nếu khách hàng không hoàn tất việc thanh toán, đảm bảo ghế không bị giữ quá lâu.

Sau khi chọn ghế, khách hàng có thể đặt combo đồ ăn kèm theo vé. Module hiển thị danh sách các combo có sẵn với hình ảnh, mô tả, và giá. Khách hàng có thể chọn số lượng combo và xem tổng tiền được cập nhật ngay lập tức. Hệ thống cũng cho phép khách hàng áp dụng voucher giảm giá nếu có, với khả năng tự động tính toán số tiền được giảm và tổng tiền cuối cùng.

Trước khi thanh toán, hệ thống hiển thị một trang xác nhận với đầy đủ thông tin về đơn hàng: thông tin phim, suất chiếu, ghế đã chọn, combo đồ ăn, voucher đã áp dụng, và tổng tiền. Khách hàng có thể xem lại và chỉnh sửa trước khi xác nhận đặt vé.

#### 2.2.2.6. Module Thanh toán

Module Thanh toán là module quan trọng đảm bảo việc xử lý các giao dịch thanh toán một cách an toàn và hiệu quả. Module này tích hợp với hai cổng thanh toán phổ biến tại Việt Nam là ZaloPay và MoMo, cung cấp nhiều lựa chọn thanh toán cho khách hàng.

Khi khách hàng xác nhận đặt vé, hệ thống tạo một đơn hàng với trạng thái "PENDING" (chờ thanh toán) và gọi API của cổng thanh toán được chọn để tạo yêu cầu thanh toán. Hệ thống truyền đầy đủ thông tin về đơn hàng bao gồm số tiền, mô tả đơn hàng, và thông tin khách hàng. Cổng thanh toán xử lý yêu cầu và trả về URL thanh toán, hệ thống sẽ chuyển hướng khách hàng đến trang thanh toán của cổng thanh toán.

Sau khi khách hàng thực hiện thanh toán trên trang của cổng thanh toán, cổng thanh toán sẽ gửi callback về server để thông báo kết quả thanh toán. Module xử lý callback một cách an toàn bằng cách kiểm tra signature để đảm bảo callback đến từ cổng thanh toán hợp lệ. Nếu thanh toán thành công, hệ thống cập nhật trạng thái đơn hàng thành "PAID" (đã thanh toán), tạo vé và ticket tương ứng, và gửi thông báo xác nhận cho khách hàng.

Module quản lý trạng thái thanh toán một cách chi tiết với các trạng thái: "PENDING" (chờ thanh toán), "PAID" (đã thanh toán), "FAILED" (thanh toán thất bại), và "REFUNDED" (đã hoàn tiền). Hệ thống tự động cập nhật trạng thái dựa trên kết quả từ cổng thanh toán và cung cấp cơ chế để xử lý các trường hợp thanh toán thất bại hoặc cần hoàn tiền.

Module cung cấp chức năng gửi thông báo xác nhận thanh toán cho khách hàng qua nhiều kênh: thông báo real-time trên website, email xác nhận với thông tin chi tiết về đơn hàng, và mã QR code để sử dụng khi đến rạp. Hệ thống cũng cung cấp cơ chế để xử lý hoàn tiền trong các trường hợp đặc biệt như hủy đơn hàng hoặc có vấn đề với dịch vụ.

#### 2.2.2.7. Module Quản lý Đơn hàng

Module Quản lý Đơn hàng cung cấp các công cụ toàn diện để quản lý và theo dõi tất cả các đơn hàng trong hệ thống. Module này phục vụ cả khách hàng, quản lý rạp, và quản trị viên với các quyền truy cập khác nhau.

Đối với khách hàng, module cung cấp trang "Lịch sử đơn hàng" cho phép xem tất cả các đơn hàng của mình, bao gồm cả đơn hàng đã hoàn thành và đang chờ thanh toán. Khách hàng có thể xem chi tiết từng đơn hàng với đầy đủ thông tin: thông tin phim (tên phim, poster), thông tin suất chiếu (ngày, giờ, phòng chiếu), thông tin ghế ngồi (số ghế, loại ghế), thông tin combo đồ ăn (tên combo, số lượng, giá), thông tin thanh toán (phương thức thanh toán, số tiền, trạng thái), và mã QR code để sử dụng khi đến rạp.

Module cung cấp mã QR code duy nhất cho mỗi vé, chứa đầy đủ thông tin về đơn hàng và có thể được quét tại rạp để xác thực và sử dụng. Mã QR code được hiển thị rõ ràng trên trang chi tiết đơn hàng và có thể được tải xuống để lưu trữ trên điện thoại.

Đối với quản lý rạp, module cung cấp giao diện quản lý đơn hàng với khả năng xem tất cả các đơn hàng liên quan đến rạp của mình, bao gồm cả đơn vé và đơn đồ ăn. Quản lý có thể tìm kiếm và lọc đơn hàng theo nhiều tiêu chí: ngày đặt hàng, phim, suất chiếu, trạng thái thanh toán, loại đơn hàng (vé phim hoặc đồ ăn), và thông tin khách hàng. Module cung cấp các công cụ tìm kiếm mạnh mẽ, cho phép quản lý nhanh chóng tìm được đơn hàng cần thiết.

Đối với quản trị viên, module cung cấp quyền truy cập toàn bộ đơn hàng trong hệ thống, không giới hạn bởi rạp. Quản trị viên có thể xem, tìm kiếm, và lọc đơn hàng trên toàn hệ thống, xem chi tiết từng đơn hàng, và thực hiện các thao tác quản lý như hủy đơn hàng hoặc hoàn tiền trong các trường hợp đặc biệt.

Module cung cấp các báo cáo và thống kê về đơn hàng, giúp quản lý và quản trị viên đánh giá hiệu quả kinh doanh và đưa ra các quyết định phù hợp.

#### 2.2.2.8. Module Quản lý Voucher và Khuyến mãi

Module Quản lý Voucher và Khuyến mãi cung cấp các công cụ mạnh mẽ để quản lý các chương trình khuyến mãi và voucher giảm giá. Module này cho phép quản trị viên tạo và quản lý các voucher với nhiều tùy chọn linh hoạt.

Khi tạo voucher mới, quản trị viên có thể thiết lập nhiều thông tin: mã voucher (có thể tự động sinh hoặc nhập thủ công), loại giảm giá (giảm theo phần trăm hoặc giảm theo số tiền cố định), giá trị giảm giá, giá trị đơn hàng tối thiểu để sử dụng voucher, thời gian hiệu lực (ngày bắt đầu và ngày kết thúc), số lượng voucher (tổng số voucher có thể phát hành), và phạm vi áp dụng (toàn hệ thống hoặc chỉ một số rạp cụ thể).

Module hỗ trợ hai cách phân phối voucher: công khai cho tất cả khách hàng hoặc gán cho các khách hàng cụ thể. Khi voucher được công khai, tất cả khách hàng đều có thể sử dụng nếu đáp ứng các điều kiện. Khi voucher được gán cho khách hàng cụ thể, chỉ những khách hàng đó mới có thể sử dụng voucher.

Module tự động kiểm tra tính hợp lệ của voucher khi khách hàng cố gắng sử dụng: kiểm tra thời gian hiệu lực, giá trị đơn hàng tối thiểu, số lượng voucher còn lại, và quyền sử dụng của khách hàng. Hệ thống tự động tính toán số tiền được giảm và cập nhật tổng tiền cuối cùng.

Module quản lý việc sử dụng voucher một cách chi tiết, theo dõi số lượng voucher đã được sử dụng, số lượng còn lại, và các đơn hàng đã sử dụng voucher. Hệ thống cung cấp thống kê về hiệu quả của từng voucher, giúp quản trị viên đánh giá và điều chỉnh các chương trình khuyến mãi.

#### 2.2.2.9. Module Quản lý Đồ ăn

Module Quản lý Đồ ăn cung cấp các công cụ để quản lý menu đồ ăn và đồ uống trong hệ thống. Module này cho phép quản trị viên tạo và quản lý các combo đồ ăn với đầy đủ thông tin và hình ảnh.

Khi tạo combo đồ ăn mới, quản trị viên có thể nhập thông tin chi tiết: tên combo, mô tả (các món ăn và đồ uống trong combo), giá, và upload hình ảnh. Module tích hợp với Cloudinary để lưu trữ và tối ưu hóa hình ảnh, đảm bảo hình ảnh được hiển thị đẹp và tải nhanh trên mọi thiết bị.

Module quản lý tình trạng còn hàng của từng combo, cho phép quản trị viên đánh dấu combo là "còn hàng" hoặc "hết hàng". Khi combo hết hàng, hệ thống tự động ẩn combo khỏi danh sách khi khách hàng đặt vé, đảm bảo khách hàng chỉ có thể đặt những combo còn sẵn.

Module cung cấp thống kê về số lượng combo đã bán, giúp quản trị viên đánh giá mức độ phổ biến của từng combo và điều chỉnh menu phù hợp. Hệ thống cũng cung cấp thông tin về doanh thu từ đồ ăn, giúp quản lý đánh giá hiệu quả kinh doanh của phần đồ ăn.

Khi khách hàng đặt vé, module hiển thị danh sách các combo có sẵn với hình ảnh, mô tả, và giá. Khách hàng có thể chọn số lượng combo và xem tổng tiền được cập nhật ngay lập tức. Hệ thống tự động tính toán tổng tiền cho combo dựa trên số lượng đã chọn.

#### 2.2.2.10. Module Báo cáo và Thống kê

Module Báo cáo và Thống kê là công cụ mạnh mẽ để phân tích dữ liệu kinh doanh và đưa ra các quyết định dựa trên dữ liệu. Module này cung cấp các báo cáo chi tiết và trực quan cho cả quản lý rạp và quản trị viên.

Module cung cấp báo cáo doanh thu theo nhiều khoảng thời gian khác nhau: theo ngày để theo dõi doanh thu hàng ngày, theo tuần để có cái nhìn tổng quan về doanh thu trong tuần, theo tháng để đánh giá hiệu quả kinh doanh trong tháng, và theo năm để lập kế hoạch dài hạn. Mỗi báo cáo có thể được lọc theo rạp, phim, hoặc các tiêu chí khác để có được thông tin chi tiết hơn.

Module cung cấp báo cáo số lượng vé bán ra, cho phép quản lý và quản trị viên đánh giá mức độ phổ biến của từng phim và suất chiếu. Báo cáo này giúp xác định các phim và suất chiếu có hiệu quả cao và điều chỉnh lịch chiếu phù hợp.

Module cung cấp báo cáo doanh thu theo phim, cho phép đánh giá hiệu quả kinh doanh của từng bộ phim. Báo cáo này giúp quản lý quyết định nên tiếp tục chiếu phim nào và dừng chiếu phim nào. Module cũng cung cấp báo cáo doanh thu theo rạp, cho phép so sánh hiệu quả kinh doanh giữa các rạp khác nhau.

Module cung cấp báo cáo doanh thu từ đồ ăn, cho phép đánh giá hiệu quả của phần kinh doanh đồ ăn. Báo cáo này giúp quản lý điều chỉnh menu và giá cả để tối ưu hóa doanh thu.

Tất cả các báo cáo được hiển thị dưới dạng biểu đồ và đồ thị trực quan, sử dụng Recharts để tạo các biểu đồ đẹp mắt và dễ hiểu. Module cung cấp nhiều loại biểu đồ khác nhau: biểu đồ cột để so sánh doanh thu giữa các khoảng thời gian, biểu đồ đường để theo dõi xu hướng doanh thu, và biểu đồ tròn để phân tích tỷ lệ doanh thu từ các nguồn khác nhau.

Module cung cấp chức năng xuất báo cáo ra file Excel, cho phép quản lý và quản trị viên tải xuống và phân tích chi tiết hơn. File Excel chứa đầy đủ dữ liệu với các định dạng phù hợp, giúp dễ dàng tạo các báo cáo tùy chỉnh.

#### 2.2.2.11. Module Đánh giá và Phản hồi

Module Đánh giá và Phản hồi cung cấp nền tảng để khách hàng chia sẻ ý kiến và đánh giá về các bộ phim đã xem. Module này tạo ra một cộng đồng người dùng tích cực và giúp các khách hàng khác có thêm thông tin để quyết định xem phim.

Khách hàng có thể viết đánh giá và nhận xét về các bộ phim đã xem, với khả năng đánh giá bằng sao (từ 1 đến 5 sao) và viết nhận xét chi tiết. Hệ thống chỉ cho phép khách hàng đánh giá các phim mà họ đã đặt vé và thanh toán thành công, đảm bảo tính xác thực của đánh giá.

Module hiển thị tất cả các đánh giá của khách hàng về một bộ phim, cho phép khách hàng khác xem và tham khảo trước khi quyết định xem phim. Hệ thống hiển thị điểm đánh giá trung bình và số lượng đánh giá, giúp khách hàng có cái nhìn tổng quan về chất lượng phim.

Module cung cấp chức năng yêu thích phim, cho phép khách hàng đánh dấu các phim mà họ yêu thích và xem lại danh sách phim yêu thích của mình. Chức năng này giúp khách hàng dễ dàng theo dõi các phim mà họ quan tâm.

Đối với quản trị viên, module cung cấp công cụ quản lý đánh giá. Quản trị viên có thể xem tất cả các đánh giá trong hệ thống, tìm kiếm và lọc đánh giá theo nhiều tiêu chí. Khi phát hiện các đánh giá không phù hợp hoặc vi phạm quy định (như nội dung không phù hợp, spam, hoặc đánh giá giả), quản trị viên có thể ẩn đánh giá đó để không hiển thị công khai trên hệ thống. Tuy nhiên, hệ thống không xóa hoàn toàn đánh giá để đảm bảo tính minh bạch và có thể khôi phục lại nếu cần. Đánh giá bị ẩn vẫn được lưu trữ trong database nhưng không hiển thị cho khách hàng khác.

#### 2.2.2.12. Module Thông báo

Module Thông báo cung cấp hệ thống thông báo đa kênh để gửi thông tin quan trọng đến người dùng một cách kịp thời và hiệu quả. Module này sử dụng nhiều phương thức khác nhau để đảm bảo người dùng luôn nhận được thông báo quan trọng.

Module cung cấp thông báo real-time thông qua WebSocket, cho phép gửi thông báo tức thời đến người dùng mà không cần họ phải tải lại trang. Thông báo real-time được sử dụng cho các sự kiện quan trọng như xác nhận thanh toán thành công, cập nhật trạng thái đơn hàng, và các thông báo hệ thống khác. Hệ thống hiển thị thông báo dưới dạng toast notification, xuất hiện ở góc màn hình và tự động biến mất sau một khoảng thời gian.

Module cung cấp thông báo qua email cho các sự kiện quan trọng như xác nhận đặt vé, xác nhận thanh toán, và các thông báo về đơn hàng. Email được gửi tự động khi có sự kiện xảy ra và chứa đầy đủ thông tin về sự kiện. Module cũng sử dụng email để gửi mã OTP khi người dùng quên mật khẩu hoặc cần xác thực email.

Module quản lý lịch sử thông báo, cho phép người dùng xem lại tất cả các thông báo đã nhận. Hệ thống lưu trữ thông báo trong database và hiển thị trong một trang riêng, cho phép người dùng xem lại các thông báo cũ và đánh dấu thông báo đã đọc.

Module cung cấp cài đặt tùy chọn nhận thông báo, cho phép người dùng chọn loại thông báo mà họ muốn nhận. Người dùng có thể bật hoặc tắt thông báo cho từng loại sự kiện, đảm bảo họ chỉ nhận được những thông báo mà họ quan tâm.

Tất cả các module này được tích hợp chặt chẽ với nhau để tạo ra một hệ thống hoàn chỉnh và thống nhất, đáp ứng đầy đủ nhu cầu của cả khách hàng và quản lý trong việc đặt vé và quản lý rạp chiếu phim. Mỗi module được thiết kế với các tính năng chi tiết và toàn diện, đảm bảo hệ thống hoạt động hiệu quả và mang lại trải nghiệm tốt nhất cho người dùng.

